<div class="reset-browser flex flex-row">

	<aside class="div-menu-lateral-principal" *ngIf="b_Mostrar_Modal">

		<div *ngIf="b_Exibir_Computador || b_Mostrar_Modal">
			<div class="icone-unimed-acima" (click)="Limpar_Filtros()">
				<img class="icone-unimed-acima-tela-grande" src="assets/imagens/logo-Unimed.svg">
			</div>
		</div>

		<div class="flex flex-row gap-4 md:gap-6 mx-4 mb-8 lg:mb-4" *ngIf="b_Mostrar_Modal">

			<div *ngIf="b_Mostrar_Modal">
				<div class="flex flex-row gap-4 md:mx-auto">
					<button class="transform cursor-pointer active:scale-90 transition duration-300"
						(click)="b_Mostrar_Modal = false">

						<img class="relative ml-2 w-7 h-7 md:w-8 md:h-8 md:ml-4 right-2 top-6 md:top-9 lg:hidden"
							src="assets/imagens/arrow-left-green.svg">
					</button>
					<div class="limpar-filtro-button">
						<div class="relative flex w-48 md:w-full h-12 lg:hidden rounded-full bg-unimed-white shadow-lg active:scale-95 duration-300"
							(click)="Limpar_Filtros()">
							<div class="w-12 h-14 mb-4 ml-3.5">
								<img src="assets/icons/lixeira.svg">
							</div>

							<div class="text-sm my-auto md:text-lg font-semibold md:ml-3 md:mr-6">
								Limpar Filtro
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="menu-lateral">

			<div class="formatacao-menu-lateral" *ngFor="let pai of objArrayGrupoCEQ">
				<div class="largura-titulo-pai">
					<itens-ceq class="menu-lateral-pai" [b_Nao_Fecha]="false" [subgrupos]="pai.subgrupos"
						[nm_Item]="pai.nm_Grupo_CEQ" [b_Open]="true" (onClick)="Fechar_Menu(pai, true)">
					</itens-ceq>
				</div>

				<div class="formatacao-filho-neto">

					<div class="pl-4 pb-2 {{filho.subgrupos.length == 0?'pl-8':''}}"
						*ngFor="let filho of pai.subgrupos">

						<itens-ceq class="menu-lateral-filho" (onClick)="filho._open=$event" [b_Open]="filho._open"
							[subgrupos]="filho.subgrupos" [nm_Item]="filho.nm_Grupo_CEQ"
							(click)="Filter_Menu(filho, filho._b_Filho = true)">
						</itens-ceq>

						<ng-container *ngIf="filho._open">
							<div class="{{filho.subgrupos.length >= 10?'h-72 overflow-y-auto':''}}">
								<div class="py-3 pl-4 max-h-48 lg:gap-y-1 lg:py-1" *ngFor="let neto of filho.subgrupos">
									<itens-ceq (onClick)="neto._open=$event"
										class="menu-lateral-neto {{neto._open?'text-laranja':''}}"
										[subgrupos]="neto.subgrupos" [b_Open]="neto._open" [nm_Item]="neto.nm_Grupo_CEQ"
										(click)="Filter_Menu(neto, filho._b_Filho = false)">
									</itens-ceq>
								</div>
							</div>
						</ng-container>
					</div>
				</div>
			</div>
		</div>
	</aside>

	<main class="calculo-altura-pagina h-screen {{b_Mostrar_Modal? 'largura-listagem-menu-aberto':'w-full'}}">

		<div class="flex flex-row gap-3 mx-4 pb-7">

			<!-- Filtro-->
			<div class="filtro" (click)="Mostrar_Modal()">
				<img class="w-8 h-8 md:w-9 md:h-9 md:ml-4 lg:ml-12" src="assets/icons/filter-three-lines.svg">
			</div>

			<!-- barra de pesquisa -->
			<ng-container>
				<uni-search-bar class="barra-pesquisa" [control]="modelChanged"></uni-search-bar>
			</ng-container>
		</div>

		<div *ngIf="!b_Exibir_Computador; else listagem">
			<app-listagem-virtual [objArrayCampos]="objArrayCampos" [objArrayItens]="objArrayDocumentos"
				(onPageChange)="Mudar_Pagina($event)" (onClickRow)="Buscar_Arquivo($event)">
			</app-listagem-virtual>
		</div>

		<ng-template #listagem>
			<div class="mr-10 {{!b_Mostrar_Modal?'mx-10':''}}">
				<app-listagem [objArrayCampos]="objArrayCampos" [objArrayItems]="objArrayDocumentos"
					(onPageChange)="Mudar_Pagina($event)" (onClickRow)="Buscar_Arquivo($event)"
					[nr_Registros]="nr_Registros" [nr_Page_Length]="nr_Page_Length" [nr_Page]="nr_Page">
				</app-listagem>
			</div>
		</ng-template>
	</main>
</div>